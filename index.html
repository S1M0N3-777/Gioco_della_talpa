<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/nes.css/2.3.0/css/nes.min.css" rel="stylesheet"> 
    <link href="https://cdnjs.cloudflare.com/ajax/libs/nes.css/2.3.0/css/nes-core.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Oswald:wght@200..700&family=Quicksand:wght@300..700&family=Sixtyfour&display=swap" rel="stylesheet">
    <style>
    
    </style>
</head>
<body>
    <div class="container">
        <div class="top-text">
            "MASTINO LAVICO PER NOI!"
            <img src="static\img\download-removebg-preview.png" alt="#" >
        </div>
        <div class="description-text">
            <p> Benvenuto nel gioco <b> "MASTINO LAVICO PER NOI!" </b>, <br> premi il pulsante <b>START</b> e con il tuo martello colpisci tutti i mastini. <br>
            <b>ATTENTO</b>, perderai una vita se non dovessi colpire il mastino. </p> <br>
        </div>
        <p id="gl"> BUONA FORTUNA! </p>
    <div class="parent">
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
        <div class="child"></div>
    </div>
    <div class="startGame">
        <a id="start" class="nes-btn is-primary" href="#">START</a>
    </div>
    <div class="progress-bar">
        <progress class="nes-progress is-success" value="10" max="100"></progress>
        </div>

        <div class="hearts">
            <i class="nes-icon is-large heart"></i>
            <i class="nes-icon is-large heart"></i>
            <i class="nes-icon is-large heart"></i>
        </div>
    </div>
    <script>
       // function activeElementListener(e){
         //   console.log(e.currentTarget)
        //}
        let revealed = false //Questa variabile mi serve per vedere se un blocco della griglia è allo stato base oppure mostra l'immagine          
        let button = document.querySelector("#start")
        let child = document.querySelectorAll(".child")
        let randomBlock
        let DurataGioco
        let imageTurn


        function random(min, max) {
        let n = Math.random() * (max - min) + min
        n = parseInt(n)
        console.log(n)
        return n
                    }


        function start(){
            randomBlock = random(0,6)
            imageTurn = random(900,3000)
            child[randomBlock].classList.remove("child")
            child[randomBlock].classList.add("active")
            


        }

        
        for (i=0; i<child.length; i++){
            child[i].addEventListener("click",function(event){
                let el=event.currentTarget
                console.log("ciao")
                if(revealed === true){
                    // Bersaglio colpito (Aggiungi punteggio)
                }else{
                    // Blocco allo stato base (Rimuovi una vita)
                }
            })
        }
        button.addEventListener("click", start)


         //document.querySelector("active").addEventListener()
         // Questo va fatto dopo aver assegnato la classe active

        //Step 1: addEventListener sul pulsante di start per avviare il gioco

        /*
            Una volta che il gioco è avviato dobbiamo identificare casualmente:
            1 - un tempo (che sarà il tempo di "accensione")
            2 - un elemento da modificare


            nel loop di gioco principale:
            - identificare un elemento casuale all'interno della griglia 
            - assegnare la classe active dell'elemento
            - usare setTimeout per rimuovere la classe dopo un tot di tempo
            - nel setTimeout devo anche rimuovere l'eventListener

            Mentre la clase active è assegnata all'elemento tenere attivo un event listener
        */
    </script>
</body>
</html>